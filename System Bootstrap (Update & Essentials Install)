#!/bin/bash
set -euo pipefail

LOG_FILE="/var/log/bootstrap.log"
exec > >(tee -a "$LOG_FILE") 2>&1

echo "===== Starting EC2 Bootstrap at $(date) ====="

# Ensure root
if [ "$(id -u)" -ne 0 ]; then
  echo "Please run as root (sudo)"
  exit 1
fi

# Update & Upgrade
apt update && apt upgrade -y

# Install common tools
apt install -y git curl wget unzip htop tree net-tools build-essential

echo "===== Bootstrap Completed at $(date) ====="
